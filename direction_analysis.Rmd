---
title: "ecosystem connectivity - direction analysis"
output: html_notebook
---

xx

```{r}
data <- read.csv("~/GitHub/Ecosystem_Connectivity/Data/all_studies.csv", header = TRUE)
```

ok first remove the excluded studies
```{r}
head(data)
colnames(data)
```
so the rows you want to exclude are under "Include..Y..N..M"

First you want to make this column is characters and not soome other wierd thing

```{r}
str(data$Include..Y..N..M) #its a factor with 8 levels...
data$Include..Y..N..M <- as.character(data$Include..Y..N..M)
```
ok now check for unique values (the responses may be in different formats)

```{r}
uniqueinc <- unique(data$Include..Y..N..M)
uniqueinc
```
ok so.. 
Y and y need to be merged to y
N and No and n and no need to be merged to n
M and R need to be merged to m

```{r}
data$Include..Y..N..M <- replace(data$Include..Y..N..M, data$Include..Y..N..M == "Y", "y")
data$Include..Y..N..M <- replace(data$Include..Y..N..M, data$Include..Y..N..M == "N", "n")
data$Include..Y..N..M <- replace(data$Include..Y..N..M, data$Include..Y..N..M == "No", "n")
data$Include..Y..N..M <- replace(data$Include..Y..N..M, data$Include..Y..N..M == "no", "n")
data$Include..Y..N..M <- replace(data$Include..Y..N..M, data$Include..Y..N..M == "R", "m")
data$Include..Y..N..M <- replace(data$Include..Y..N..M, data$Include..Y..N..M == "M", "m")
```
and recheck...
```{r}
uniqueinc <- unique(data$Include..Y..N..M)
uniqueinc
```
perfect

Now subset just to have all the y
```{r}
ydata <- data[data$Include..Y..N..M == "y",]
```
ok now out of interest count how many n there were
```{r}
library(plyr)
ynm <- count(data, 'Include..Y..N..M') 
ynm
```
and in the ydata (should be none)
```{r}
y <- count(ydata, 'Include..Y..N..M') 
y
```
great

```{r}
colnames(ydata)
```

So you can remove..
"Include..Y..N..M"                                                                         
"If.excluding..reason.for.exclusion"  
 
```{r}
ydata <- subset(ydata, select = -c(Include..Y..N..M, If.excluding..reason.for.exclusion))
colnames(ydata)
```

ok now let's tidy each column...

[6] "From.original.search..Y.or.N" 
```{r}
ydata$From.original.search..Y.or.N <- as.character(ydata$From.original.search..Y.or.N) #make col as.character
orsea <- unique(ydata$From.original.search..Y.or.N)
orsea
```

and tidy...
```{r}
ydata$From.original.search..Y.or.N <- replace(ydata$From.original.search..Y.or.N, ydata$From.original.search..Y.or.N == "Y", "y") #all Y will be y
ydata$From.original.search..Y.or.N <- replace(ydata$From.original.search..Y.or.N, ydata$From.original.search..Y.or.N == "Y ", "y") #all Y will be y
ydata$From.original.search..Y.or.N <- replace(ydata$From.original.search..Y.or.N, ydata$From.original.search..Y.or.N == "N", "n") #all N will be n
```

and check
```{r}
orsea1 <- unique(ydata$From.original.search..Y.or.N)
orsea1
```

ok next column
 [7] "Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem"
```{r}
ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- as.character(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem) #make col as.character
focus <- unique(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem)
focus
```

and tidy...
```{r}
ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "Subsidy", "subsidy") 

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "Both", "both")

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "Community", "community")

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "Subsidy & Community", "subsidy & community")

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "community & subsidy", "subsidy & community")

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "Subsidy and community", "subsidy & community")

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "subsidy and community", "subsidy & community")

ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem <- replace(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem, ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem == "", "subsidy") #i checked this
```

and check
```{r}
focus1 <- unique(ydata$Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem)
focus1
```

next
[8] "Study.Type" 
```{r}
ydata$Study.Type <- as.character(ydata$Study.Type) #make col as.character
type <- unique(ydata$Study.Type)
type
```


and tidy...
```{r}
ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational", "observational") 

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Manipulative", "manipulative") 

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational & experiment", "observational & experiment") 

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Modeling", "model")
                            
ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Modelling", "model")
                            
ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Laboratory", "lab")

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "observational + laboratory", "observational + lab") 
                            
ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "observational + laboratory", "observational + lab")  

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational (but lab study completed too)", "observational + lab")                             

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational/modelling", "observational + model")

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational + Modelling", "observational + model")

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational + model", "observational + model")

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "Observational + model", "observational + model")

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "", "observational + manipulative") #i checked this

ydata$Study.Type <- replace(ydata$Study.Type, ydata$Study.Type == "observational & experiment", "observational + experiment") 

```

and check
```{r}
type1 <- unique(ydata$Study.Type)
type1
```

next..
[9] "Specific.Methodology.Used" 

```{r}
ydata$Specific.Methodology.Used <- as.character(ydata$Specific.Methodology.Used) #make col as.character
meth <- unique(ydata$Specific.Methodology.Used)
meth
```
eek ok lots here...but probably cant to doo much

and tidy...
```{r}
ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Transects", "transects") 

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "video transects", "transects")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "transect collections", "transects")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "transect", "transects")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Quadrat sampling", "quadrat")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "quadrat sampling", "quadrat")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "quadrats laid on transects", "quadrat")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "transect with quadrat + invert sampling", "quadrat")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "quadrat surveys; morphological assessments of kelp", "quadrat")
  
ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Sediment analysis", "sediment analysis")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Nutrient analysis - water", "nutrient analysis")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Isotope analysis", "stable isotope analysis")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Stable Isotope Analysis", "stable isotope analysis")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Stable isotope analysis", "stable isotope analysis")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "WATER sampling", "water sampling")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "water quality sampling", "water sampling")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "tagging of kelp", "tagging")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "Marking fish and monitoring movement", "tagging")

ydata$Specific.Methodology.Used <- replace(ydata$Specific.Methodology.Used, ydata$Specific.Methodology.Used == "", "quadrat") #i checked this one
```

and check
```{r}
meth1 <- unique(ydata$Specific.Methodology.Used)
meth1
```

ok leave like this as you don't know what tianna might want to pull...

next
[12] "Measured.variable.s...include.one.line.for.each.variable."                                
```{r}
ydata$Measured.variable.s...include.one.line.for.each.variable. <- as.character(ydata$Measured.variable.s...include.one.line.for.each.variable.) #make col as.character
meas <- unique(ydata$Measured.variable.s...include.one.line.for.each.variable.)
meas
```
again his could be tricky....

```{r}
ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "carbon:nitorgen ratio", "C:N ratios") 

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "Subsidy biomass", "subsidy biomass")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "Stable isotope values", "stable isotope values")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "Detritus Cover", "area covered")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "wrack cover on beach", "area covered")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "percent cover" , "area covered")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "Nitrogen", "N")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "presence of detritus", "presence")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "presence of wrack", "presence")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "subsidy presence", "presence")

ydata$Measured.variable.s...include.one.line.for.each.variable. <- replace(ydata$Measured.variable.s...include.one.line.for.each.variable., ydata$Measured.variable.s...include.one.line.for.each.variable. == "proportion of plant material covering quadrat", "area covered")
```

check
```{r}
meas1 <- unique(ydata$Measured.variable.s...include.one.line.for.each.variable.)
meas1
```


ok there are missing values... i think a lot but leave them be


next
[11] "Unit.of.measured.variable"                                                                

```{r}
ydata$Unit.of.measured.variable <- as.character(ydata$Unit.of.measured.variable) #make col as.character
unit <- unique(ydata$Unit.of.measured.variable)
unit
```
same thing - difficult to merge too much...

```{r}
ydata$Unit.of.measured.variable <- replace(ydata$Unit.of.measured.variable, ydata$Unit.of.measured.variable == "number of fish", "count")

ydata$Unit.of.measured.variable <- replace(ydata$Unit.of.measured.variable, ydata$Unit.of.measured.variable == "Presence or absence", "presence/absence")

ydata$Unit.of.measured.variable <- replace(ydata$Unit.of.measured.variable, ydata$Unit.of.measured.variable == "N/A", "NA")
```

and check...
```{r}
unit1 <- unique(ydata$Unit.of.measured.variable)
unit1
```

ok next column
[14] "Study.location"      

this will be a bit different - here you want to make a new column for country


```{r}
ydata$country <- format(as.character) #created a new column called country
colnames(ydata)
```

lets start by populating country the locations as is
```{r}
ydata$country <- ydata$Study.location
ydata$country <- as.character(ydata$country)
head(ydata)
```
ok good now lets start replacing values so you only get country names
```{r}
ydata$country <- replace(ydata$country, ydata$country == "Western coast of Norway", "Norway")
ydata$country <- replace(ydata$country, ydata$country == "NW coast Spain", "Spain")
ydata$country <- replace(ydata$country, ydata$country == "SE Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "SE Argentina", "Argentina")
ydata$country <- replace(ydata$country, ydata$country == "NE Spain", "Spain")
ydata$country <- replace(ydata$country, ydata$country == "North Carolina, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "South Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "South-west Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "SE Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "North Island, New Zealand", "New Zealand")
ydata$country <- replace(ydata$country, ydata$country == "British Columbia, Canada", "Canada")
ydata$country <- replace(ydata$country, ydata$country == "Nova Scotia, Canada", "Canada")
ydata$country <- replace(ydata$country, ydata$country == "Grosetto, Italy", "Italy")
ydata$country <- replace(ydata$country, ydata$country == "Central California", "USA")
ydata$country <- replace(ydata$country, ydata$country == "South west Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "Southeast US", "USA")
ydata$country <- replace(ydata$country, ydata$country == "Massachusetts, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "Cape Breton Island, Nova Scotia", "Canada")
ydata$country <- replace(ydata$country, ydata$country == "Northwestern Vancouver Island, British Columbia", "Canada")
ydata$country <- replace(ydata$country, ydata$country == "Puget Sound, Washington, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "NW Scotland", "Scotland")
ydata$country <- replace(ydata$country, ydata$country == "SW Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "Central Japan", "Japan")
ydata$country <- replace(ydata$country, ydata$country == "Eastern Germany, Baltic Sea", "Germany")
ydata$country <- replace(ydata$country, ydata$country == "Washington State, San Juan Archipelago", "USA")
ydata$country <- replace(ydata$country, ydata$country == "Southern California and Mexico", "Mexico and USA")
ydata$country <- replace(ydata$country, ydata$country == "Southern California and Southeast Spain", "USA and Spain")
ydata$country <- replace(ydata$country, ydata$country == "western Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "Western Australia", "Australia")
ydata$country <- replace(ydata$country, ydata$country == "Washington State, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "West France", "France")
ydata$country <- replace(ydata$country, ydata$country == "Chesapeake Bay, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "California, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "New England, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "Quebec ", "Canada")
ydata$country <- replace(ydata$country, ydata$country == "New York, USA", "USA")
ydata$country <- replace(ydata$country, ydata$country == "Washington State", "USA")
ydata$country <- replace(ydata$country, ydata$country == "canada", "Canada")

```
ok let's check...
```{r}
uniquecountry <- unique(ydata$country)
uniquecountry
```
ok so there are still some issues...
"Northwestern mediterranean" 
"USA and Spain"
"Northern Balearic Islands"
"NW Mediteranean (Balearic basin)"
"Sea of Okhotsk, Western Pacific Ocean"
"France + UK"  


First lets count how many unique studies there are in each country... https://stackoverflow.com/questions/12840294/counting-unique-distinct-values-by-group-in-a-data-frame/12848190

```{r}
library(plyr)
countrycount <- ddply(ydata,~country,summarise,country_count=length(unique(Authors)))
countrycount

```
soo the counts for our trouble locations are...

"Northwestern mediterranean"  - 1
"USA and Spain" - 1
"Northern Balearic Islands" - 1
"NW Mediteranean (Balearic basin)" - 1
"Sea of Okhotsk, Western Pacific Ocean" - 1
"France + UK"  - 1

some need to better defined

"Northwestern mediterranean"  - 1
"Northern Balearic Islands" - 1
"NW Mediteranean (Balearic basin)" - 1
"Sea of Okhotsk, Western Pacific Ocean" - 1

best check these papers manually to see if you can refine to a country

"Northwestern mediterranean"  can be france
"Northern Balearic Islands" can be Minorca 
"NW Mediteranean (Balearic basin)" can be spain
"Sea of Okhotsk, Western Pacific Ocean" can be Japan

```{r}
ydata$country <- replace(ydata$country, ydata$country == "Northwestern mediterranean", "France")
ydata$country <- replace(ydata$country, ydata$country == "Northern Balearic Islands", "Minorca")
ydata$country <- replace(ydata$country, ydata$country == "NW Mediteranean (Balearic basin)", "Spain")
ydata$country <- replace(ydata$country, ydata$country == "Sea of Okhotsk, Western Pacific Ocean", "Japan")
```

then check
```{r}
countrycount <- ddply(ydata,~country,summarise,country_count=length(unique(Authors)))
countrycount
```

For those joint country studies, I don't think we need an extra entry for each individual country on the dataset, so lets just add 1 value to each individual country, and then remove the joint country entry

```{r}
countrycount$country_count[countrycount$country == "USA"] = countrycount$country_count[countrycount$country == "USA"] +1
countrycount$country_count[countrycount$country == "Spain"] = countrycount$country_count[countrycount$country == "Spain"] +1
countrycount <- countrycount[!(countrycount$country == "USA and Spain"), ]

countrycount$country_count[countrycount$country == "France"] = countrycount$country_count[countrycount$country == "France"] +1
countrycount$country_count[countrycount$country == "UK"] = countrycount$country_count[countrycount$country == "UK"] +1
countrycount <- countrycount[!(countrycount$country == "France + UK"), ]
countrycount
```

ok now lets save this countrycount so you can map it. make sure to add the table into the shared googledrive

```{r}
write.csv(countrycount, file = "./data/countries.csv", row.names = FALSE)
```

ok next!
[15] "recipient_ecosystem_depthzone" 

```{r}
ydata$recipient_ecosystem_depthzone <- as.character(ydata$recipient_ecosystem_depthzone) #make col as.character
rdepth <- unique(ydata$recipient_ecosystem_depthzone)
rdepth
```

ok and change...
```{r}
ydata$recipient_ecosystem_depthzone <- replace(ydata$recipient_ecosystem_depthzone, ydata$recipient_ecosystem_depthzone == "Offshore", "offshore")

ydata$recipient_ecosystem_depthzone <- replace(ydata$recipient_ecosystem_depthzone, ydata$recipient_ecosystem_depthzone == "Supratidal", "supratidal")

ydata$recipient_ecosystem_depthzone <- replace(ydata$recipient_ecosystem_depthzone, ydata$recipient_ecosystem_depthzone == "surpatidal", "supratidal")

ydata$recipient_ecosystem_depthzone <- replace(ydata$recipient_ecosystem_depthzone, ydata$recipient_ecosystem_depthzone == "nearshore or intertidal (not specified)", "intertidal or nearshore (not stated)")

ydata$recipient_ecosystem_depthzone <- replace(ydata$recipient_ecosystem_depthzone, ydata$recipient_ecosystem_depthzone == "Terrestrial", "terrestrial")
```

and check
```{r}
rdepth1 <- unique(ydata$recipient_ecosystem_depthzone)
rdepth1
```

ok next
[14] "recipient_geomorphic_unit"                                                                

```{r}
ydata$recipient_geomorphic_unit <- as.character(ydata$recipient_geomorphic_unit) #make col as.character
rgeo <- unique(ydata$recipient_geomorphic_unit)
rgeo
```

```{r}
ydata$recipient_geomorphic_unit <- replace(ydata$recipient_geomorphic_unit, ydata$recipient_geomorphic_unit == "Canyon", "submarine canyon")

ydata$recipient_geomorphic_unit <- replace(ydata$recipient_geomorphic_unit, ydata$recipient_geomorphic_unit == "terrestrial/watershed", "watershed")

ydata$recipient_geomorphic_unit <- replace(ydata$recipient_geomorphic_unit, ydata$recipient_geomorphic_unit == "Watershed", "watershed")

ydata$recipient_geomorphic_unit <- replace(ydata$recipient_geomorphic_unit, ydata$recipient_geomorphic_unit == "Estuary", "estuary")

ydata$recipient_geomorphic_unit <- replace(ydata$recipient_geomorphic_unit, ydata$recipient_geomorphic_unit == "Upper estuary", "estuary")

ydata$recipient_geomorphic_unit <- replace(ydata$recipient_geomorphic_unit, ydata$recipient_geomorphic_unit == "Na", "NA")

ydata$recipient_geomorphic_unit[is.na(ydata$recipient_geomorphic_unit)] <- "NA" #this changes the NA values to NA text
```

check
```{r}
rgeo1 <- unique(ydata$recipient_geomorphic_unit)
rgeo1
```

next..

 [15] "Recipient.ecosystem.substrate"                                                            

```{r}
ydata$Recipient.ecosystem.substrate <- as.character(ydata$Recipient.ecosystem.substrate) #make col as.character
rsub <- unique(ydata$Recipient.ecosystem.substrate)
rsub
```

```{r}
ydata$Recipient.ecosystem.substrate <- replace(ydata$Recipient.ecosystem.substrate, ydata$Recipient.ecosystem.substrate == "na", "NA")

ydata$Recipient.ecosystem.substrate <- replace(ydata$Recipient.ecosystem.substrate, ydata$Recipient.ecosystem.substrate == "various sediments", "sediment")

ydata$Recipient.ecosystem.substrate[is.na(ydata$Recipient.ecosystem.substrate)] <- "NA" #this changes the NA values to NA text

```

check
```{r}
rsub1 <- unique(ydata$Recipient.ecosystem.substrate)
rsub1
```

next
 [16] "Recipient.ecosystem...table.2.classification"                                             
```{r}
ydata$Recipient.ecosystem...table.2.classification <- as.character(ydata$Recipient.ecosystem...table.2.classification) #make col as.character
rclas <- unique(ydata$Recipient.ecosystem...table.2.classification)
rclas
```

```{r}
ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Open ocean", "pelagic")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Pelagic", "pelagic")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "pelagic (coastal)", "pelagic")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Sheltered open waters", "pelagic")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "water column", "pelagic")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Sandy beach", "sandy beach")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Seagrass Bed", "seagrass bed")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "seagrass", "seagrass bed")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Estuary", "estuary")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Canyons", "submarine canyon")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Sandy intertidal", "sandy intertidal")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Sandy Intertidal", "sandy intertidal")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "algal bed - green", "macroalgal bed - green")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Beach dunes", "Sand Dune")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Mud Flats", "mudflat")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Mud Flat", "mudflat")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Forest", "forest")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "beach (poorly defined)", "beach")


ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == " ", "Sand Dune")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "Salt Marsh", "saltmarsh")

ydata$Recipient.ecosystem...table.2.classification <- replace(ydata$Recipient.ecosystem...table.2.classification, ydata$Recipient.ecosystem...table.2.classification == "salt marsh", "saltmarsh")

ydata$Recipient.ecosystem...table.2.classification[is.na(ydata$Recipient.ecosystem...table.2.classification)] <- "NA" #this changes the NA values to NA text

```

check
```{r}
rclas1 <- unique(ydata$Recipient.ecosystem...table.2.classification)
rclas1
```
ok next...
 [17] "Recipient.ecosystem...other.classification"                                               

```{r}
ydata$Recipient.ecosystem...other.classification <- as.character(ydata$Recipient.ecosystem...other.classification) #make col as.character
roclas <- unique(ydata$Recipient.ecosystem...other.classification)
roclas
```

```{r}
ydata$Recipient.ecosystem...other.classification <- replace(ydata$Recipient.ecosystem...other.classification, ydata$Recipient.ecosystem...other.classification == "Eelgrass", "eelgrass")

ydata$Recipient.ecosystem...other.classification <- replace(ydata$Recipient.ecosystem...other.classification, ydata$Recipient.ecosystem...other.classification == "Na", "NA")

ydata$Recipient.ecosystem...other.classification <- replace(ydata$Recipient.ecosystem...other.classification, ydata$Recipient.ecosystem...other.classification == "na", "NA")

ydata$Recipient.ecosystem...other.classification <- replace(ydata$Recipient.ecosystem...other.classification, ydata$Recipient.ecosystem...other.classification == "", "foredune")

ydata$Recipient.ecosystem...other.classification[is.na(ydata$Recipient.ecosystem...other.classification)] <- "NA" #this changes the NA values to NA text
```

check
```{r}
roclas1 <- unique(ydata$Recipient.ecosystem...other.classification)
roclas1
```
 next
  [18] "Recipient.ecosystem.depth..m." 
```{r}
ydata$Recipient.ecosystem.depth..m. <- as.character(ydata$Recipient.ecosystem.depth..m) #make col as.character
rdm <- unique(ydata$Recipient.ecosystem.depth..m.)
rdm
```

```{r}
ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "4 to 9 meters", "4 - 9")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "5-15", "5 - 15")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "153-454", "153 - 454")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "40-50m", "40 - 50")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "18m", "18")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "sampled at 1m", "1")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "450 to 2200", "450 - 2200")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "30 meters to surface (frazil and floating ice)", "0 - 30 (frazil and floating ice)")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == " 1000–1040", "1000 – 1040")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "na", "NA")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "260 to 300", "260 - 300")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "N/A", "NA")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "10 to 15m", "10 - 15")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "", "NA")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "15-45", "15 - 45")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "87-357", "87 - 357")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "50-170m", "50 - 170")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "6 to 12", "6 - 12")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == ">90m", ">90")

ydata$Recipient.ecosystem.depth..m. <- replace(ydata$Recipient.ecosystem.depth..m., ydata$Recipient.ecosystem.depth..m. == "<40m", "<40")

ydata$Recipient.ecosystem.depth..m.[is.na(ydata$Recipient.ecosystem.depth..m.)] <- "NA" #this changes the NA values to NA text
```

check
```{r}
rdm1 <- unique(ydata$Recipient.ecosystem.depth..m.)
rdm1
``` 

next...
 [19] "donor_ecosystem_depthzone"                                                                

```{r}
ydata$donor_ecosystem_depthzone <- as.character(ydata$donor_ecosystem_depthzone) #make col as.character
ddep <- unique(ydata$donor_ecosystem_depthzone)
ddep
```

```{r}
ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "Terrestrial", "terrestrial")

ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "Intertidal", "intertidal")

ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "intertidal nearshore (not specificed)", "intertidal or nearshore (not specified)")

ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "intertidal or nearshore (not assessed)", "intertidal or nearshore (not specified)")

ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "Nearshore", "nearshore")

ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "NA - they just looked at what was in the recipient", "NA")

ydata$donor_ecosystem_depthzone <- replace(ydata$donor_ecosystem_depthzone, ydata$donor_ecosystem_depthzone == "NA (not state)", "NA")

ydata$donor_ecosystem_depthzone[is.na(ydata$donor_ecosystem_depthzone)] <- "NA" #this changes the NA values to NA text
```

check
```{r}
ddep1 <- unique(ydata$donor_ecosystem_depthzone)
ddep1
```

next
 [20] "donor_geomorphic_unit"                                                                    

```{r}
ydata$donor_geomorphic_unit <- as.character(ydata$donor_geomorphic_unit) #make col as.character
dgm <- unique(ydata$donor_geomorphic_unit)
dgm
```

```{r}
ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "Watershed", "watershed")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "terrestrial/watershed", "watershed")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "Terrestrial/Watershed", "watershed")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "Estuary", "estuary")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "estuaries", "estuary")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "not defined - may be nearshore or intertidal", "nearshore or intertidal")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "Na", "NA")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "Urban", "urban")

ydata$donor_geomorphic_unit <- replace(ydata$donor_geomorphic_unit, ydata$donor_geomorphic_unit == "NA (not state)", "NA")

ydata$donor_geomorphic_unit[is.na(ydata$donor_geomorphic_unit)] <- "NA" #this changes the NA values to NA text

```


check
```{r}
dgm1 <- unique(ydata$donor_geomorphic_unit)
dgm1
```

next
 [21] "Donor.ecosystem.substrate"                                                                
```{r}
ydata$Donor.ecosystem.substrate <- as.character(ydata$Donor.ecosystem.substrate) #make col as.character
dsub <- unique(ydata$Donor.ecosystem.substrate)
dsub
```


```{r}
ydata$Donor.ecosystem.substrate <- replace(ydata$Donor.ecosystem.substrate, ydata$Donor.ecosystem.substrate == "N/A", "NA")

ydata$Donor.ecosystem.substrate <- replace(ydata$Donor.ecosystem.substrate, ydata$Donor.ecosystem.substrate == "Na", "NA")

ydata$Donor.ecosystem.substrate <- replace(ydata$Donor.ecosystem.substrate, ydata$Donor.ecosystem.substrate == "", "water")

ydata$Donor.ecosystem.substrate[is.na(ydata$Donor.ecosystem.substrate)] <- "NA" #this changes the NA values to NA text

```

check
```{r}
dsub1 <- unique(ydata$Donor.ecosystem.substrate)
dsub1
```

next..
 [22] "Donor.ecosystem...table.2.classification"                                                 

```{r}
ydata$Donor.ecosystem...table.2.classification <- as.character(ydata$Donor.ecosystem...table.2.classification) #make col as.character
dclas <- unique(ydata$Donor.ecosystem...table.2.classification)
dclas
```


```{r}
ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Terrestrial", "terrestrial")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "terrestrial ", "terrestrial")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Kelp forest", "kelp forest")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Kelp ", "kelp forest")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "kelp", "kelp forest")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Salt Marsh", "saltmarsh")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "salt Marsh", "saltmarsh")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "salt marsh", "saltmarsh")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "green macroalgae", "algal bed - green")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "red macroalgae", "algal bed - red")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "brown macroalgae", "algal bed - brown")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "algal bed", "algal bed - other")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Rivers and streams", "rivers and streams")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Rivers and Streams", "rivers and streams")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Human altered", "Developed")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Human-altered", "Developed")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Pelagic", "pelagic")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "seagrass", "seagrass bed")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Seagrass Beds", "seagrass bed")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Seagrass", "seagrass bed")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Seagrass beds", "seagrass bed")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Intertidal", "intertidal")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Estuary", "estuary")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Wetlands", "wetland")

ydata$Donor.ecosystem...table.2.classification <- replace(ydata$Donor.ecosystem...table.2.classification, ydata$Donor.ecosystem...table.2.classification == "Mud Flat", "mudflat")

ydata$Donor.ecosystem...table.2.classification[is.na(ydata$Donor.ecosystem...table.2.classification)] <- "NA" #this changes the NA values to NA text

```


check
```{r}
dclas1 <- unique(ydata$Donor.ecosystem...table.2.classification)
dclas1
```

next
 [23] "Donor.ecosystem...other.classification"                                                   

```{r}
ydata$Donor.ecosystem...other.classification <- as.character(ydata$Donor.ecosystem...other.classification) #make col as.character
docl <- unique(ydata$Donor.ecosystem...other.classification)
docl
```


```{r}
ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "Eelgrass", "eelgrass")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "eelgrass bed", "eelgrass")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "eelgrass bed", "eelgrass")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "developed - dredge dump site", "developed")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "intertidal of estuary", "intertidal in estuary")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "Laminaria sp.", "Laminaria")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "ulva spp.", "Ulva")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "ulva (sea lettuce)", "Ulva")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "ulva", "Ulva")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "N/A", "NA")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "(Laminaria hyperborea)", "Laminaria")

ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "(Laminaria hyperborea)", "Laminaria")


ydata$Donor.ecosystem...other.classification <- replace(ydata$Donor.ecosystem...other.classification, ydata$Donor.ecosystem...other.classification == "", "NA") #lots of missing values - add as NA

ydata$Donor.ecosystem...other.classification[is.na(ydata$Donor.ecosystem...other.classification)] <- "NA" #this changes the NA values to NA text
```


```{r}
docl1 <- unique(ydata$Donor.ecosystem...other.classification)
docl1
```

next
 [24] "Donor.ecosystem.depth..m."                                                                
```{r}
ydata$Donor.ecosystem.depth..m. <- as.character(ydata$Donor.ecosystem.depth..m.) #make col as.character
ddepm <- unique(ydata$Donor.ecosystem.depth..m.)
ddepm
```

```{r}
ydata$Donor.ecosystem.depth..m. <- replace(ydata$Donor.ecosystem.depth..m., ydata$Donor.ecosystem.depth..m. == "N/A", "NA")

ydata$Donor.ecosystem.depth..m. <- replace(ydata$Donor.ecosystem.depth..m., ydata$Donor.ecosystem.depth..m. == "1.5 to 8 meters", "1.5 - 8")

ydata$Donor.ecosystem.depth..m. <- replace(ydata$Donor.ecosystem.depth..m., ydata$Donor.ecosystem.depth..m. == "", "NA")

ydata$Donor.ecosystem.depth..m. <- replace(ydata$Donor.ecosystem.depth..m., ydata$Donor.ecosystem.depth..m. == "<18m", "<18")

ydata$Donor.ecosystem.depth..m. <- replace(ydata$Donor.ecosystem.depth..m., ydata$Donor.ecosystem.depth..m. == "< 8 m", "<8")

ydata$Donor.ecosystem.depth..m.[is.na(ydata$Donor.ecosystem.depth..m.)] <- "NA" #this changes the NA values to NA text
```


```{r}
ddepm1 <- unique(ydata$Donor.ecosystem.depth..m.)
ddepm1
```

next
 [25] "Connectivity.comparisons"                                                                 

```{r}
ydata$Connectivity.comparisons <- as.character(ydata$Connectivity.comparisons) #make col as.character
concom <- unique(ydata$Connectivity.comparisons)
concom
```

ok there is info here that might be useful...maybe just make another column with y/n

```{r}
ydata$Connectivity.comparisons.yn <- format(as.character) #created a new column called country
colnames(ydata)
```

populate Connectivity.comparisons.yn 

```{r}
ydata$Connectivity.comparisons.yn <- substr(ydata$Connectivity.comparisons, 0, 1) #this extracts the first character of the connectivity.comparions column and adds it to the .yn column
ydata$Connectivity.comparisons.yn
```

```{r}
concom <- unique(ydata$Connectivity.comparisons.yn)
concom
```

```{r}
ydata$Connectivity.comparisons.yn <- replace(ydata$Connectivity.comparisons.yn, ydata$Connectivity.comparisons.yn == "Y", "y")

ydata$Connectivity.comparisons.yn <- replace(ydata$Connectivity.comparisons.yn, ydata$Connectivity.comparisons.yn == "N", "n")

ydata$Connectivity.comparisons.yn <- replace(ydata$Connectivity.comparisons.yn, ydata$Connectivity.comparisons.yn == "", "NA")
```

```{r}
concom1 <- unique(ydata$Connectivity.comparisons.yn)
concom1
```


next
[26] "Directionality"                                                                           

```{r}
ydata$Directionality <- as.character(ydata$Directionality) #make col as.character
direc <- unique(ydata$Directionality)
direc
```

```{r}
ydata$Directionality <- replace(ydata$Directionality, ydata$Directionality == "unidirectional", "U")

ydata$Directionality <- replace(ydata$Directionality, ydata$Directionality == "Unidirectional", "U")

ydata$Directionality <- replace(ydata$Directionality, ydata$Directionality == "Bi-directional", "R")

ydata$Directionality <- replace(ydata$Directionality, ydata$Directionality == "Bidirectional", "R")
```


```{r}
direc1 <- unique(ydata$Directionality)
direc1
```

next
 [27] "Material.s..category"                                                                     

```{r}
ydata$Material.s..category <- as.character(ydata$Material.s..category) #make col as.character
mate <- unique(ydata$Material.s..category)
mate
```

```{r}
ydata$Material.s..category <- replace(ydata$Material.s..category, ydata$Material.s..category == "organisms", "organism")

ydata$Material.s..category <- replace(ydata$Material.s..category, ydata$Material.s..category == "Organism", "organism")

ydata$Material.s..category <- replace(ydata$Material.s..category, ydata$Material.s..category == "Organic", "OM")

ydata$Material.s..category <- replace(ydata$Material.s..category, ydata$Material.s..category == "organic matter", "OM")

ydata$Material.s..category <- replace(ydata$Material.s..category, ydata$Material.s..category == "Sediment", "sediment")

ydata$Material.s..category <- replace(ydata$Material.s..category, ydata$Material.s..category == "organims", "organism")

```

```{r}
mate1 <- unique(ydata$Material.s..category)
mate1
```

next
 [28] "Material.s....additional.classifications"                                                 
```{r}
ydata$Material.s....additional.classifications <- as.character(ydata$Material.s....additional.classifications) #make col as.character
matead <- unique(ydata$Material.s....additional.classifications)
matead
```

```{r}
ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "N/A", "NA")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "Wrack: (Laminaria hyperborea)", "wrack")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "Dissolved inorganic nitrogen", "DIN")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "kelp (laminariales)", "kelp")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "DOM Chesapeake Bay", "DOM")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "CHl", "Chl a")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "Pacific Salmon", "Salmon")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "Chlorophyll", "Chl a")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "Nitrogen", "N")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "n", "N")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "c", "C")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "carbon", "C")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "algae wrack", "algal wrack")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "", "NA")

ydata$Material.s....additional.classifications <- replace(ydata$Material.s....additional.classifications, ydata$Material.s....additional.classifications == "nitrate", "?Nitrate")

ydata$Material.s....additional.classifications[is.na(ydata$Material.s....additional.classifications)] <- "NA" #this changes the NA values to NA text
```


```{r}
matead1 <- unique(ydata$Material.s....additional.classifications)
matead1
```

next
 [29] "Mechanism.of.connectivity" 
 
```{r}
ydata$Mechanism.of.connectivity <- as.character(ydata$Mechanism.of.connectivity) #make col as.character
mechc <- unique(ydata$Mechanism.of.connectivity)
mechc
```

```{r}
ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "not measured ", "not measured")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "salmon swim upstream", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "salmon migration", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "Pacific salmon migration", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "lingcod migration", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "lampreys swim upstream from the ocean to spawn", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "Organism migration", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "Organism migration", "migration")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "tidal/current drift", "Current/Tidal drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "moves with tide/currents", "Current/Tidal drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "tidal/current drift", "Current/Tidal drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "River flow drif", "River flow drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "River flow drifting", "River flow drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "Drift on currents/tidal/wave movement", "Current/Tidal/Wave drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "Drift on currents/tidal/wave movement", "Current/Tidal/Wave drift")

ydata$Mechanism.of.connectivity <- replace(ydata$Mechanism.of.connectivity, ydata$Mechanism.of.connectivity == "drift on tides/currents/wave", "Current/Tidal/Wave drift")


ydata$Mechanism.of.connectivity[is.na(ydata$Mechanism.of.connectivity)] <- "NA" #this changes the NA values to NA text
```


```{r}
mechc1 <- unique(ydata$Mechanism.of.connectivity)
mechc1
```

ok next
 [30] "Mechanism.of.connectivity.assumed." 
```{r}
ydata$Mechanism.of.connectivity.assumed. <- as.character(ydata$Mechanism.of.connectivity.assumed.) #make col as.character
conas <- unique(ydata$Mechanism.of.connectivity.assumed.)
conas
```

```{r}
ydata$Mechanism.of.connectivity.assumed. <- replace(ydata$Mechanism.of.connectivity.assumed., ydata$Mechanism.of.connectivity.assumed. == "Y", "y")

ydata$Mechanism.of.connectivity.assumed. <- replace(ydata$Mechanism.of.connectivity.assumed., ydata$Mechanism.of.connectivity.assumed. == "Yes", "y")

ydata$Mechanism.of.connectivity.assumed. <- replace(ydata$Mechanism.of.connectivity.assumed., ydata$Mechanism.of.connectivity.assumed. == "yes", "y")

ydata$Mechanism.of.connectivity.assumed. <- replace(ydata$Mechanism.of.connectivity.assumed., ydata$Mechanism.of.connectivity.assumed. == "N", "n")

ydata$Mechanism.of.connectivity.assumed. <- replace(ydata$Mechanism.of.connectivity.assumed., ydata$Mechanism.of.connectivity.assumed. == "No", "n")

ydata$Mechanism.of.connectivity.assumed. <- replace(ydata$Mechanism.of.connectivity.assumed., ydata$Mechanism.of.connectivity.assumed. == "no", "n")

ydata$Mechanism.of.connectivity.assumed.[is.na(ydata$Mechanism.of.connectivity.assumed.)] <- "NA" #this changes the NA values to NA text
```

```{r}
conas1 <- unique(ydata$Mechanism.of.connectivity.assumed.)
conas1
```

next
 [31] "Active.or.passive"  
 
```{r}
ydata$Active.or.passive <- as.character(ydata$Active.or.passive) #make col as.character
ap <- unique(ydata$Active.or.passive)
ap
```

```{r}
ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "A", "a")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "Passive", "p")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "assumed passive", "p")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "Active", "a")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "passive", "p")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "active", "a")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "PAssive", "p")

ydata$Active.or.passive <- replace(ydata$Active.or.passive, ydata$Active.or.passive == "P", "p")

ydata$Active.or.passive[is.na(ydata$Active.or.passive)] <- "NA" #this changes the NA values to NA text
```


```{r}
ap1 <- unique(ydata$Active.or.passive)
ap1
```

next
 [32] "If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters."
 
```{r}
ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. <- as.character(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters.) #make col as.character
distm <- unique(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters.)
distm
```

```{r}
ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. <- replace(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters., ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. == "N/A", "NA")

ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. <- replace(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters., ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. == "N", "NA")

ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. <- replace(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters., ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. == "not indicated", "NA")

ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. <- replace(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters., ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters. == "", "NA")

ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters.[is.na(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters.)] <- "NA" #this changes the NA values to NA text

```


```{r}
distm1 <- unique(ydata$If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters.)
distm1
```

next
[34] "Human.influence.on.connectivity..Y..N..or.not.specified"   
```{r}
ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- as.character(ydata$Human.influence.on.connectivity..Y..N..or.not.specified) #make col as.character
hum <- unique(ydata$Human.influence.on.connectivity..Y..N..or.not.specified)
hum
```

```{r}
ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "N", "n")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "Y", "y")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "not specified", "NA")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "Not specified", "NA")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "not indicated", "NA")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "", "NA")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "yes", "y")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "Yes", "y")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "yes", "y")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "No ", "y")


ydata$Human.influence.on.connectivity..Y..N..or.not.specified <- replace(ydata$Human.influence.on.connectivity..Y..N..or.not.specified, ydata$Human.influence.on.connectivity..Y..N..or.not.specified == "No", "y")

ydata$Human.influence.on.connectivity..Y..N..or.not.specified[is.na(ydata$Human.influence.on.connectivity..Y..N..or.not.specified)] <- "NA" #this changes the NA values to NA text
```


```{r}
hum1 <- unique(ydata$Human.influence.on.connectivity..Y..N..or.not.specified)
hum1
```

rewrite all the column headers into something better...
```{r}
colnames(ydata)
```

```{r}
colnames(ydata)[colnames(ydata) == "Include..Y..N..M"] <- "inc"                                                         
colnames(ydata)[colnames(ydata) == "If.excluding..reason.for.exclusion" ] <- "exclusion_reason"  
colnames(ydata)[colnames(ydata) == "From.original.search..Y.or.N" ] <- "original_search"                                 colnames(ydata)[colnames(ydata) == "Focus.on.subsidy..community..subsidy...community..or.subsidy...ecosystem" ] <- "focus"                           
colnames(ydata)[colnames(ydata) == "Specific.Methodology.Used" ] <- "method"
colnames(ydata)[colnames(ydata) == "Measured.variable.s...include.one.line.for.each.variable."  ] <- "measured_variable"
colnames(ydata)[colnames(ydata) == "Unit.of.measured.variable"  ] <- "measured_variable_unit"                           
colnames(ydata)[colnames(ydata) == "recipient_ecosystem_depthzone"  ] <- "recip_depthzone"                              
colnames(ydata)[colnames(ydata) == "recipient_geomorphic_unit"  ] <- "recip_geom"                                       
colnames(ydata)[colnames(ydata) == "Recipient.ecosystem.substrate"  ] <- "recip_substrate"  
colnames(ydata)[colnames(ydata) == "Recipient.ecosystem...table.2.classification"  ] <- "recip_class"
colnames(ydata)[colnames(ydata) == "Recipient.ecosystem...other.classification"  ] <- "recip_other_class"
colnames(ydata)[colnames(ydata) == "Recipient.ecosystem.depth..m."   ] <- "recip_depth"
colnames(ydata)[colnames(ydata) == "donor_ecosystem_depthzone"  ] <- "donor_depthzone"                              
colnames(ydata)[colnames(ydata) == "donor_geomorphic_unit"  ] <- "donor_geom"                                       
colnames(ydata)[colnames(ydata) == "Donor.ecosystem.substrate"  ] <- "donor_substrate"  
colnames(ydata)[colnames(ydata) == "Donor.ecosystem...table.2.classification"  ] <- "donor_class"
colnames(ydata)[colnames(ydata) == "Donor.ecosystem...other.classification"  ] <- "donor_other_class"
colnames(ydata)[colnames(ydata) == "Donor.ecosystem.depth..m."   ] <- "donor_depth"
colnames(ydata)[colnames(ydata) == "Material.s..category"   ] <- "material_class" 
colnames(ydata)[colnames(ydata) == "Material.s....additional.classifications"   ] <- "material_other_cat"    
colnames(ydata)[colnames(ydata) == "Mechanism.of.connectivity"   ] <- "mech_conn" 
colnames(ydata)[colnames(ydata) == "Mechanism.of.connectivity.assumed."    ] <- "mech_conn_ass"  
colnames(ydata)[colnames(ydata) == "Active.or.passive"    ] <- "act_pass"  
colnames(ydata)[colnames(ydata) == "If.available..provide.the.maximum.distance.materials.were.observed.to.have.moved..meters."    ] <- "distance"  
colnames(ydata)[colnames(ydata) == "Connectivity.description"    ] <- "conn_desc"                               
colnames(ydata)[colnames(ydata) == "Human.influence.on.connectivity..Y..N..or.not.specified"    ] <- "human_inf" 
"Notes"                                                                                    
"donor_ecosystem_depthzon"                                                                 
"Connectivity.comparisons.yn"
```


ok now write  new csv

```{r}
write.csv(ydata, file = "./data/all_yes_studies_clean.csv", row.names = FALSE)
```

